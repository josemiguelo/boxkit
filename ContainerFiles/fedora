FROM quay.io/fedora/fedora-toolbox:latest

LABEL com.github.containers.toolbox="true" \
      usage="This image is meant to be used with the toolbox or distrobox command" \
      summary="My custom image for distrobox" \
      maintainer="josemiguelo.ochoa@gmail.com"

# temp assets
COPY ../scripts/ /tmp/scripts/
COPY ../packages/ /tmp/packages/

# persisted assets
COPY ../scripts/setup-dotfiles.sh /usr/local/bin/setup-dotfiles.sh

RUN chmod +x /tmp/scripts/*.sh && \
    /tmp/scripts/fedora.sh && \
    rm -rf /tmp/scripts /tmp/packages
